(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"713b":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-layout",{attrs:{view:"lHh Lpr lFf"}},[i("q-header",{attrs:{elevated:""}},[i("q-toolbar",[i("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),i("q-toolbar-title",[e._v("\n        "+e._s(this.$router.currentRoute.name)+"\n      ")]),"Invoices"===this.$router.currentRoute.name?i("div",{staticClass:"actions"},[this.selected.length>0?i("q-btn",{attrs:{color:"white",flat:"",icon:"edit"},on:{click:e.editMode}}):i("q-btn",{attrs:{color:"white",flat:"",icon:"add"},on:{click:e.addMode}}),this.selected.length>0?i("q-btn",{attrs:{color:"red",flat:"",icon:"delete"},on:{click:e.deleteMode}}):e._e(),i("q-btn",{attrs:{color:"white",flat:"",label:"Invoices",icon:"save_alt"},on:{click:e.exportCsv}}),i("q-btn",{attrs:{color:"white",flat:"",label:"Customer",icon:"save_alt"},on:{click:e.exportCsvCust}})],1):"Invoice Items"===this.$router.currentRoute.name?i("div",{staticClass:"actions"},[this.selectedInvoiceItems.length>0?i("q-btn",{attrs:{color:"white",flat:"",icon:"edit"},on:{click:e.editModeInvoice}}):i("q-btn",{attrs:{color:"white",flat:"",icon:"add"},on:{click:e.addModeInvoiceItem}}),this.selectedInvoiceItems.length>0?i("q-btn",{attrs:{color:"red",flat:"",icon:"delete"},on:{click:e.deleteMode}}):e._e(),i("q-btn",{attrs:{color:"white",flat:"",label:"Invoice Items",icon:"save_alt"},on:{click:e.exportCsvInvoiceItem}})],1):i("div",[e._v("Written by Marinos Zagkotsis")])],1)],1),i("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-1",side:"left"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[i("q-list",[i("q-item-label",{staticClass:"text-grey-8",attrs:{header:""}},[e._v("\n        Navigation\n      ")]),e._l(e.essentialLinks,(function(t){return i("EssentialLink",e._b({key:t.title},"EssentialLink",t,!1))}))],2)],1),e.rightDrawerOpen?i("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-1",side:"right"},model:{value:e.rightDrawerOpen,callback:function(t){e.rightDrawerOpen=t},expression:"rightDrawerOpen"}},[this.selected.length>0&&0==this.selectedInvoiceItems.length?i("q-list",[e._l(e.selectedItems,(function(t,n){return i("q-item",{key:n},["client"==n?i("q-input",{attrs:{rules:[function(e){return!!e||"Field is required"}],type:"text",label:n,clearable:""},model:{value:e.selectedItems[n],callback:function(t){e.$set(e.selectedItems,n,t)},expression:"selectedItems[index]"}}):"created_at"==n?i("q-input",{attrs:{rules:[function(e){return!!e||"Field is required"}],type:"datetime","stack-label":"",label:n,filled:"",mask:"datetime"},model:{value:e.selectedItems[n],callback:function(t){e.$set(e.selectedItems,n,t)},expression:"selectedItems[index]"}}):"invoice_date"==n?i("q-input",{attrs:{rules:[function(e){return!!e||"Field is required"}],type:"date","stack-label":"",label:n,filled:"",mask:"date"},model:{value:e.selectedItems[n],callback:function(t){e.$set(e.selectedItems,n,t)},expression:"selectedItems[index]"}}):"id"!=n&&"invoice_status"!=n?i("q-input",{attrs:{rules:[function(e){return!!e||"Field is required"}],type:"number",label:n,clearable:""},model:{value:e.selectedItems[n],callback:function(t){e.$set(e.selectedItems,n,t)},expression:"selectedItems[index]"}}):e._e(),"invoice_status"===n?i("q-select",{staticStyle:{width:"70%"},attrs:{rules:[function(e){return!!e||"Field is required"}],options:e.options,label:n},model:{value:e.selectedItems[n],callback:function(t){e.$set(e.selectedItems,n,t)},expression:"selectedItems[index]"}}):e._e()],1)})),i("q-item",[i("q-btn",{attrs:{color:"primary",label:"Update invoice"},on:{click:e.updateInvoice}})],1)],2):this.selected&&0==this.selectedInvoiceItems.length?i("q-list",[e._l(Object.keys(e.selected),(function(t){return i("q-item",{key:t},["client"==t?i("q-input",{attrs:{rules:[function(e){return!!e||"Field is required"}],type:"text",label:t,clearable:""},model:{value:e.selected[t],callback:function(i){e.$set(e.selected,t,i)},expression:"selected[item]"}}):"invoice_date"==t?i("q-input",{attrs:{rules:[function(e){return!!e||"Field is required"}],type:"date","stack-label":"",label:t,filled:"",mask:"date"},model:{value:e.selected[t],callback:function(i){e.$set(e.selected,t,i)},expression:"selected[item]"}}):"created_at"==t?i("q-input",{attrs:{rules:[function(e){return!!e||"Field is required"}],type:"datetime","stack-label":"",label:t,filled:"",mask:"datetime"},model:{value:e.selected[t],callback:function(i){e.$set(e.selected,t,i)},expression:"selected[item]"}}):"id"!=t&&"invoice_status"!=t?i("q-input",{attrs:{rules:[function(e){return!!e||"Field is required"}],type:"number",label:t,clearable:""},model:{value:e.selected[t],callback:function(i){e.$set(e.selected,t,i)},expression:"selected[item]"}}):e._e(),"invoice_status"===t?i("q-select",{staticStyle:{width:"70%"},attrs:{rules:[function(e){return!!e||"Field is required"}],options:e.options,label:t},model:{value:e.selected[t],callback:function(i){e.$set(e.selected,t,i)},expression:"selected[item]"}}):e._e()],1)})),i("q-item",[i("q-btn",{attrs:{color:"primary",label:"Add invoice"},on:{click:e.saveInvoice}})],1)],2):this.selectedInvoiceItems.length>0&&0==this.selected.length?i("q-list",[e._l(e.selectedInvoiceItemsComp,(function(t,n){return i("q-item",{key:n},["name"==n?i("q-input",{attrs:{rules:[function(e){return!!e||"Field is required"}],type:"text",label:n,clearable:""},model:{value:e.selectedInvoiceItemsComp[n],callback:function(t){e.$set(e.selectedInvoiceItemsComp,n,t)},expression:"selectedInvoiceItemsComp[index]"}}):"created_at"==n?i("q-input",{attrs:{rules:[function(e){return!!e||"Field is required"}],type:"datetime","stack-label":"",label:n,filled:"",mask:"datetime"},model:{value:e.selectedInvoiceItemsComp[n],callback:function(t){e.$set(e.selectedInvoiceItemsComp,n,t)},expression:"selectedInvoiceItemsComp[index]"}}):"id"!=n?i("q-input",{attrs:{rules:[function(e){return!!e||"Field is required"}],type:"number",label:n,clearable:""},model:{value:e.selectedInvoiceItemsComp[n],callback:function(t){e.$set(e.selectedInvoiceItemsComp,n,t)},expression:"selectedInvoiceItemsComp[index]"}}):e._e()],1)})),i("q-item",[i("q-btn",{attrs:{color:"primary",label:"Update invoice item"},on:{click:e.updateItemInvoice}})],1)],2):this.selectedInvoiceItems&&0==this.selected.length?i("q-list",[e._l(Object.keys(e.selectedInvoiceItems),(function(t){return i("q-item",{key:t},["name"==t?i("q-input",{attrs:{rules:[function(e){return!!e||"Field is required"}],type:"text",label:t,clearable:""},model:{value:e.selectedInvoiceItems[t],callback:function(i){e.$set(e.selectedInvoiceItems,t,i)},expression:"selectedInvoiceItems[item]"}}):"created_at"==t?i("q-input",{attrs:{rules:[function(e){return!!e||"Field is required"}],type:"datetime","stack-label":"",label:t,filled:"",mask:"datetime"},model:{value:e.selectedInvoiceItems[t],callback:function(i){e.$set(e.selectedInvoiceItems,t,i)},expression:"selectedInvoiceItems[item]"}}):"id"!=t?i("q-input",{attrs:{rules:[function(e){return!!e||"Field is required"}],type:"number",label:t,clearable:""},model:{value:e.selectedInvoiceItems[t],callback:function(i){e.$set(e.selectedInvoiceItems,t,i)},expression:"selectedInvoiceItems[item]"}}):e._e()],1)})),i("q-item",[i("q-btn",{attrs:{color:"primary",label:"Add invoice item"},on:{click:e.saveItemInvoice}})],1)],2):e._e(),this.error?i("span",{staticStyle:{color:"red","font-weigth":"bold"}},[e._v(" "+e._s(e.errorMsg)+" ")]):e._e()],1):e._e(),i("q-page-container",[i("router-view")],1),this.dialogVisible?i("DialogConfirm",{on:{deleteItemClicked:e.onDeleteItemClicked}}):e._e()],1)},s=[],c=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("c47a")),r=i.n(c),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-item",{attrs:{clickable:"",to:e.link}},[e.icon?i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{name:e.icon}})],1):e._e(),i("q-item-section",[i("q-item-label",[e._v(e._s(e.title))]),i("q-item-label",{attrs:{caption:""}},[e._v("\n      "+e._s(e.caption)+"\n    ")])],1)],1)},o=[],a={name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:""},icon:{type:String,default:""}}},d=a,u=i("2877"),m=i("eebe"),p=i.n(m),v=i("66e5"),I=i("4074"),b=i("0016"),f=i("0170"),h=Object(u["a"])(d,l,o,!1,null,null,null),g=h.exports;p()(h,"components",{QItem:v["a"],QItemSection:I["a"],QIcon:b["a"],QItemLabel:f["a"]});var q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"q-pa-md q-gutter-sm"},[i("q-dialog",{attrs:{persistent:""},on:{"before-hide":e.beforeHide},model:{value:e.confirmDialog,callback:function(t){e.confirmDialog=t},expression:"confirmDialog"}},[i("q-card",[i("q-card-section",{staticClass:"row items-center"},[i("q-avatar",{attrs:{icon:"warning",color:"red","text-color":"white"}}),i("span",{staticClass:"q-ml-sm"},[e._v("Are you sure you want to delete this item?")])],1),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:e.hide}}),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Delete",color:"red"},on:{click:e.deleteitem}})],1)],1)],1)],1)},k=[],O=i("2f62");function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach((function(t){r()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var _={name:"DialogConfirm",props:{},methods:w({},Object(O["b"])(["setDialogVisible"]),{beforeHide:function(){var e=!1;this.setDialogVisible(e)},deleteitem:function(){this.$emit("deleteItemClicked",!0)},hide:function(){var e=!1;this.setDialogVisible(e)}}),computed:w({},Object(O["c"])(["dialogVisible"]),{confirmDialog:{get:function(){return this.dialogVisible},set:function(){}}})},D=_,C=i("24e8"),x=i("f09f"),j=i("a370"),S=i("cb32"),P=i("4b7e"),$=i("9c40"),Q=i("7f67"),F=Object(u["a"])(D,q,k,!1,null,null,null),M=F.exports;function E(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function L(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?E(Object(i),!0).forEach((function(t){r()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):E(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}p()(F,"components",{QDialog:C["a"],QCard:x["a"],QCardSection:j["a"],QAvatar:S["a"],QCardActions:P["a"],QBtn:$["a"]}),p()(F,"directives",{ClosePopup:Q["a"]});var V={name:"MainLayout",components:{EssentialLink:g,DialogConfirm:M},data:function(){return{leftDrawerOpen:!1,rightDrawerOpen:!1,dialogConfirmOpen:!1,errorMsg:"You cannot save the form not all data are filled",error:!1,essentialLinks:[{title:"Home",icon:"home",link:"/home"},{title:"Invoice Report",caption:"Manage your invoices",icon:"settings",link:"/invoice"},{title:"Invoice Items",caption:"See all items for each invoice",icon:"people",link:"/invoiceItems"}],options:["paid","unpaid"]}},mounted:function(){this.rightDrawerOpen=!1,this.dialogConfirmOpen=!1},created:function(){this.rightDrawerOpen=!1,this.dialogConfirmOpen=!1},computed:L({},Object(O["c"])("invoice",["selected","forPagination"]),{},Object(O["c"])("invoiceItem",["selectedInvoiceItems","forPaginationInvoiceItem"]),{},Object(O["c"])(["dialogVisible"]),{selectedItems:function(){return this.selected[0]},selectedInvoiceItemsComp:function(){return this.selectedInvoiceItems[0]}}),methods:L({},Object(O["b"])("invoice",["updateItem","updateSelected","createItem","fetchPaginated","exportDataToCsv","exportDataCustomerCSV","clearSelected","deleteItem"]),{},Object(O["b"])("invoiceItem",["updateInvoiceItem","updateSelectedInvoiceItem","createInvoiceItem","fetchPaginatedInvoiceItem","exportDataToCsvItems","clearSelectedInvoiceItem","deleteInvoiceItem"]),{},Object(O["b"])(["setDialogVisible"]),{editMode:function(){this.clearSelectedInvoiceItem(),this.rightDrawerOpen=!this.rightDrawerOpen},editModeInvoice:function(){this.clearSelected(),this.rightDrawerOpen=!this.rightDrawerOpen},deleteMode:function(){this.setDialogVisible(!this.dialogVisible)},onDeleteItemClicked:function(){this.selected[0]?this.deleteItem(this.selected[0]):this.selectedInvoiceItems[0]?this.deleteInvoiceItem(this.selectedInvoiceItems[0]):this.$q.notify({message:"Something went wrong",color:"negative"})},updateInvoice:function(){var e=this;this.error=!1,Object.keys(this.selected[0]).forEach((function(t){""==e.selected[0][t]&&(e.error=!0)})),this.error||this.updateItem(this.selected[0])},updateItemInvoice:function(){var e=this;this.error=!1,Object.keys(this.selectedInvoiceItems[0]).forEach((function(t){""==e.selectedInvoiceItems[0][t]&&(e.error=!0)})),this.error||this.updateInvoiceItem(this.selectedInvoiceItems[0])},addMode:function(){this.clearSelectedInvoiceItem();var e={rows:{client:"",created_at:"",invoice_amount:"",invoice_amount_plus_vat:"",invoice_date:"",invoice_status:"",vat_rate:""}};this.rightDrawerOpen=!this.rightDrawerOpen,this.updateSelected(e)},addModeInvoiceItem:function(){this.clearSelected();var e={rows:{invoice_id:"",name:"",amount:"",created_at:""}};this.rightDrawerOpen=!this.rightDrawerOpen,this.updateSelectedInvoiceItem(e)},saveInvoice:function(){var e=this;this.error=!1,Object.keys(this.selected).forEach((function(t){""==e.selected[t]&&(e.error=!0)})),this.error||(this.createItem(this.selected),this.fetchPaginated(this.forPagination))},saveItemInvoice:function(){var e=this;this.error=!1,Object.keys(this.selectedInvoiceItems).forEach((function(t){""==e.selectedInvoiceItems[t]&&(e.error=!0)})),this.error||(this.createInvoiceItem(this.selectedInvoiceItems),this.fetchPaginatedInvoiceItem(this.forPaginationInvoiceItem))},exportCsv:function(){this.exportDataToCsv()},exportCsvCust:function(){this.exportDataCustomerCSV()},exportCsvInvoiceItem:function(){this.exportDataToCsvItems()}})},T=V,A=i("4d5a"),H=i("e359"),R=i("65c6"),N=i("6ac5"),B=i("9404"),J=i("1c1c"),U=i("27f9"),W=i("ddd8"),Y=i("09e3"),Z=Object(u["a"])(T,n,s,!1,null,"d2ade690",null);t["default"]=Z.exports;p()(Z,"components",{QLayout:A["a"],QHeader:H["a"],QToolbar:R["a"],QBtn:$["a"],QToolbarTitle:N["a"],QDrawer:B["a"],QList:J["a"],QItemLabel:f["a"],QItem:v["a"],QInput:U["a"],QSelect:W["a"],QPageContainer:Y["a"]})}}]);