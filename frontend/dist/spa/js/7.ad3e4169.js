(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"3caa":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[this.invoices.data?n("q-table",{attrs:{title:"Invoices",data:e.dataTable,columns:e.columnsTable,"row-key":"id",selection:"single",selected:e.selectedItems,filter:e.filter,pagination:e.pagination,loading:e.loading},on:{"update:selected":function(t){e.selectedItems=t},"update:pagination":function(t){e.pagination=t},request:e.onRequest,selection:e.handleSelection},scopedSlots:e._u([{key:"top-right",fn:function(){return[n("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!1,4009527860),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0}],null,!1,2722981051)}):e._e()],1)},a=[],o=(n("8e6e"),n("8a81"),n("7f7f"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),r=n.n(o),c=n("2f62");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={name:"Invoice",data:function(){return{filter:"",selectedItems:[],loading:!1,pagination:{sortBy:"id",descending:!1,page:1,rowsPerPage:5,rowsNumber:10}}},computed:l({},Object(c["c"])("invoice",["invoices","invoiceNumber"]),{columnsTable:function(){var e=[];if(this.invoices.data){var t={},n=0;Object.keys(this.invoices.data[0]).forEach((function(i){t["name"]=i,t["label"]=i.toLowerCase(),t["align"]="left",t["sortable"]=!1,t["field"]=i,n%2==0&&(t["classes"]="bg-grey-2 ellipsis",t["headerClasses"]="bg-teal text-white"),e.push(t),n++,t={}}))}return e},dataTable:function(){return this.invoices.data}}),methods:l({},Object(c["b"])("invoice",["fetchPaginated","getRowCount","updateSelected","clearSelected"]),{},Object(c["b"])(["setDialogVisible"]),{onRequest:function(e){var t=this,n=this,i=e.pagination,a=i.page,o=i.rowsPerPage,r=i.sortBy,c=i.descending,s=e.filter;this.loading=!0,this.$q.loading.show(),setTimeout((function(){n.pagination.rowsNumber=t.invoiceNumber;var e=0===o?t.pagination.rowsNumber:o,i=(a-1)*o,l={};l["startRow"]=i,l["fetchCount"]=e,l["filter"]=s,l["sortBy"]=r,l["descending"]=c;t.fetchPaginated(l).then((function(e){t.pagination.page=a,t.pagination.rowsPerPage=o,t.pagination.sortBy=r,t.pagination.descending=c,t.loading=!1}))}),1500)},handleSelection:function(e){if(this.setDialogVisible(!1),e.added)this.updateSelected(e);else{this.clearSelected();var t={rows:{client:"",created_at:"",invoice_amount:"",invoice_amount_plus_vat:"",invoice_date:"",invoice_status:"",vat_rate:""}};this.updateSelected(t)}}}),mounted:function(){this.getRowCount()},created:function(){this.onRequest({pagination:this.pagination,filter:void 0})}},d=u,p=n("2877"),f=n("eebe"),g=n.n(f),b=n("eaac"),h=n("27f9"),v=n("0016"),m=Object(p["a"])(d,i,a,!1,null,null,null);t["default"]=m.exports;g()(m,"components",{QTable:b["a"],QInput:h["a"],QIcon:v["a"]})}}]);